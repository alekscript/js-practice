<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Циклы</title>
</head>

<body>
  <h2>While 2</h2>
  <p>
    while (condition) {
    // код
    // также называемый "телом цикла"
    }
  </p>

  <script>
    let s = 0;
    while (s < 3) { // выводит 0, затем 1, затем 2
      alert(s);
      s++;
    }
  </script>

  <h2>do...while</h2>
  <p>
    Цикл сначала выполнит тело, а затем проверит условие condition, и пока его значение равно true, он будет выполняться
    снова и снова.
    Такая форма синтаксиса оправдана, если вы хотите, чтобы тело цикла выполнилось хотя бы один раз, даже если условие
    окажется ложным. На практике чаще используется форма с предусловием: while(…) {…}.
  </p>
  <script>
    let i = 0;
    do {
      alert(i);
      i++;
    } while (i < 3);
  </script>

  <h2>for</h2>
  <p>
    Более сложный, но при этом самый распространённый цикл — цикл for.
    for (начало; условие; шаг) {
    // ... тело цикла ...
    }
  </p>
  <script>
    for (let i = 0; i < 3; i++) { // выведет 0, затем 1, затем 2
      alert(i);
    }
  </script>
  <h2>Прерывание цикла break</h2>
  <p>
    Обычно цикл завершается при вычислении условия в false.
    Но мы можем выйти из цикла в любой момент с помощью специальной директивы break.
  </p>
  <script>
    let sum = 0;
    while (true) {
      let value = +prompt("Введите число", '');
      if (!value) break; // (*)
      sum += value;
    }
    alert('Сумма: ' + sum);
  </script>
  <p>
    Директива break в строке (*) полностью прекращает выполнение цикла и передаёт управление на строку за его телом, то
    есть на alert.
    Вообще, сочетание «бесконечный цикл + break» – отличная штука для тех ситуаций, когда условие, по которому нужно
    прерваться, находится не в начале или конце цикла, а посередине или даже в нескольких местах его тела.
  </p>

  <h2>
    Переход к следующей итерации: continue
  </h2>
  <p>
    Директива continue – «облегчённая версия» break. При её выполнении цикл не прерывается, а переходит к следующей
    итерации (если условие все ещё равно true).
    Её используют, если понятно, что на текущем повторе цикла делать больше нечего.
  </p>
  <script>
    for (let i = 0; i < 10; i++) {
      // если true, пропустить оставшуюся часть тела цикла
      if (i % 2 == 0) continue;
      alert(i); // 1, затем 3, 5, 7, 9
    }
  </script>

  <h2>
    Метки для break/continue
  </h2>
  <p>
    Бывает, нужно выйти одновременно из нескольких уровней цикла сразу.
    Нам нужен способ остановить выполнение, если пользователь отменит ввод.
    Обычный break после input лишь прервёт внутренний цикл, но этого недостаточно. Достичь желаемого поведения можно с
    помощью меток.
    labelName: for (...) {
    ...
    }
  </p>
  <script>
    outer: for (let i = 0; i < 3; i++) {
      for (let j = 0; j < 3; j++) {
        let input = prompt(`Значение на координатах (${i},${j})`, '');
        // если пустая строка или Отмена, то выйти из обоих циклов
        if (!input) break outer; // (*)
        // сделать что-нибудь со значениями...
      }
    }
    alert('Готово!');
  </script>
  <h2>Итого</h2>
  <p>
    Мы рассмотрели 3 вида циклов:
    while – Проверяет условие перед каждой итерацией.
    do..while – Проверяет условие после каждой итерации.
    for (;;) – Проверяет условие перед каждой итерацией, есть возможность задать дополнительные настройки.

    Чтобы организовать бесконечный цикл, используют конструкцию while (true). При этом он, как и любой другой цикл,
    может быть прерван директивой break.

    Если на данной итерации цикла делать больше ничего не надо, но полностью прекращать цикл не следует – используют
    директиву continue.
  </p>
</body>

</html>